<!DOCTYPE html>
<html lang="rw">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IKIZAMI CYA 4</title>
  <script>
    document.addEventListener("copy", function(e) {
      e.preventDefault();
      alert("Copying is disabled!");
    });
  </script>

  <style>
    body {
      font-family: Arial, sans-serif;
      font-size: 20px;
      line-height: 1.5;
      padding: 20px;
      background: #fff;
      margin: 0;
    }
    .custom-button {
      width: 300px;
      height: 40px;
      background-color: blue;
      color: white;
      border: none;
      font-size: 20px;
      font-weight: bold;
      cursor: pointer;
    }
    .custom-button:hover {
      background-color: darkblue;
    }
    #quiz-container {
      display: none;
      padding: 20px;
      background: #fff;
      width: 100vw;
      box-sizing: border-box;
    }
    .question {
      font-weight: bold;
      margin-bottom: 20px;
    }
    .option-button {
      font-weight: normal;
      display: block;
      margin: 16px 0;
      padding: 10px;
      border: 2px solid #ccc;
      border-radius: 6px;
      background-color: white;
      cursor: pointer;
      font-size: 20px;
    }
    .option-button:hover {
      background-color: #eef;
    }
   .option-button.correct {
      background-color: #c8f7c5 !important;
      border-color: green;
    }
    .option-button.wrong {
      background-color: #f7c5c5 !important;
      border-color: red;
    }
 input[type="radio"] {
  transform: scale(1.5); /* Increase size */
  margin: 10px;
  accent-color: #007bff; /* Blue when selected */
  cursor: pointer;
}

input[type="radio"]:checked {
  outline: 2px solid #007bff;
  box-shadow: 0 0 5px #007bff;
}
   .correct::after {
   content: " ‚úÖ ";
   color: green;
   margin-left: 4px;
   }
   .wrong::after {
   content: " ‚ùå(Icyo wasubije si cyo! Reba igisubizo cy'ukuri mu ibara ry'icyatsi.) ";
   color: red;
  margin-left: 4px;
  }
    .submit-button {
      background-color: blue;
      color: white;
      padding: 10px 20px;
      border: none;
      margin-top: 10px;
      cursor: pointer;
      margin-right: 10px;
      font-weight: bold;
    }
    .submit-button:hover {
      background-color: darkblue;
    }
    .review-button {
      background-color: green;
      color: white;
      padding: 10px 20px;
      border: none;
      margin-top: 10px;
      cursor: pointer;
      margin-right: 10px;
      font-weight: bold;
    }
    .review-button:hover {
      background-color: green;
    }
    .home-button {
      background-color: darkred;
      color: white;
      padding: 10px 20px;
      border: none;
      cursor: pointer;
      margin-right: 10px;
      font-weight: bold;
      margin-top: 10px;
    }
    .home-button:hover {
      background-color: red;
    }
    #result {
      margin-top: 20px;
      font-weight: bold;
    }
    #timer {
      font-weight: bold;
      color: red;
      margin-bottom: 10px;
    }
    #password-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.4);
      overflow: auto; /* Enable scrolling if content too long */
    }
    .modal-content {
      background-color: #fff;
      margin: 10% auto;
      padding: 20px;
      width: 90%;
      max-width: 400px;
      border-radius: 10px;
      text-align: center;
      position: relative;  
    }
    .modal-content input {
      width: 90%;
      padding: 10px;
      font-size: 12px;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      color: white;
      cursor: pointer;
      margin-bottom: 2px;
      width: 100%;
    }
    #confirmBtn {
      background-color: #007bff;
    }
    #confirmBtn:hover {
      background-color: #0056b3;
    }
    #sectionBtn1 {
      background-color: green;
    }
    #sectionBtn1:hover {
      background-color: #006400;
    }
    #sectionBtn2 { 
      background-color: gray;
    }
    #sectionBtn2:hover {
      background-color: #555;
    }
    #exitGoBackBtn {
      background-color: darkred;
    }
    #exitGoBackBtn:hover {
      background-color: #b30000;
    }
    .close-btn {
      position: absolute;
      right: 15px;
      top: 10px;
      font-size: 20px;
      cursor: pointer;
    }
    #loadingSpinner {
      display: none;
      margin: 20px auto;
      border: 6px solid #f3f3f3;
      border-top: 6px solid #007bff;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body oncontextmenu="return false" onselectstart="return false" ondragstart="return false">
  <h3>ITOZE GUSUBIZA IBIBAZO UTSINDIRE PROVISOIRE MU GIHE GITO!</h3>
  <button class="custom-button" id="startQuizBtn" onclick="showPasswordModal()">
    TANGIRA IKIZAMI CYA 4
  </button>
 <div id="password-modal">
    <div class="modal-content">
 <span class="close-btn" onclick="closePasswordModal()">&times;</span>
      <h3>SHYIRAMO KODE IKWEMERERA GUKORA IKI KIZAMI</h3>
     <div style="position: relative; display: inline-block; width: 90%;">
  <input type="password" id="password-input" placeholder="ANDIKA IYO KODE HANO" oninput="showToggleText()" style="width: 90%; padding-right: 30px;">
  <span id="show-text" onclick="togglePassword(true)" style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); color: black; cursor: pointer; display: none; font-size: 14px;">üëÅÔ∏èGaragaza Password</span>
  <span id="hide-text" onclick="togglePassword(false)" style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); color: black; cursor: pointer; display: none; font-size: 14px;">üòéHisha Password</span>
</div>
      <br><br>
      <button onclick="checkPassword()" id="confirmBtn">
        EMEZA NYUMA YO KWANDIKAMO KODE
      </button>
      <br><br>
      <button id="sectionBtn1" onclick="goToSection1()">TWANDIKIRE TUGUFASHE</button>
      <br><br>
      <button id="sectionBtn2" onclick="goToSection2()">KANDA HANO UBANZE WIHUGURE</button>
      <br><br>
      <button id="exitGoBackBtn" onclick="confirmExit()">SOHOKA NIBA UDASHAKA GUKOMEZA</button>   
    </div>
  </div>

  <div id="quiz-container">
    <div id="timer"></div>
    <p><strong style="color: darkblue;">
      Ikizami Kigizwe n'Ibibazo 20, Buri Kibazo Gifite Inota 1, Kikamara Iminota 20. Amahirwe Masa!!!
    </strong></p>
    <div id="question-box"></div>
    <button class="submit-button" onclick="submitQuiz()">OHEREZA UBONE AMANOTA YAWE</button>
    <button class="home-button" onclick="goToHome()">SOHOKA/SUBIRA KU BIZAMI</button>
    <div id="loadingSpinner"></div>
    <div id="result"></div>
    <button class="review-button" id="reviewAnswersBtn" onclick="reviewAnswers()" style="display:none;">REBA IBISUBIZO BYOSE</button>
  </div>

<script>
let quizStarted = false;
let submitted = false;
let time = 20 * 60;
let userAnswers = Array(20).fill(null);
const correctAnswers = [
  1, 3, 1, 1, 0, 2, 0, 1, 2, 2,
  3, 1, 1, 1, 0, 1, 2, 2, 1, 3
];
const timerDiv = document.getElementById("timer");

function showPasswordModal() {
  if (quizStarted) {
    alert("Ikizami Cyamaze Gutangira/Kurangira! kanda OK ukomeze usubize cg niba wamaze gusubiza umanuke hasi ujye kuri SOHOKA/SUBIRA KU BIZAMI usubire ku bizami wongere utangire!");
    return;
  }
  document.getElementById("password-modal").style.display = "block";
}

function closeModal() {
  document.getElementById("password-modal").style.display = "none";
}
function togglePassword(show) {
  const input = document.getElementById("password-input");
  const showText = document.getElementById("show-text");
  const hideText = document.getElementById("hide-text");

  if (show) {
    input.type = "text";
    showText.style.display = "none";
    hideText.style.display = "inline";
  } else {
    input.type = "password";
    showText.style.display = "inline";
    hideText.style.display = "none";
  }
}

function showToggleText() {
  const input = document.getElementById("password-input");
  const showText = document.getElementById("show-text");
  const hideText = document.getElementById("hide-text");
  if (input.value.length > 0) {
    if (input.type === "password") {
      showText.style.display = "inline";
      hideText.style.display = "none";
    } else {
      hideText.style.display = "inline";
      showText.style.display = "none";
    }
  } else {
    showText.style.display = "none";
    hideText.style.display = "none";
  }
}

function closePasswordModal() {
  const confirmClose = confirm("Urashaka Gusubira Inyuma? Kanda OK niba Udakomeje Ikizamini cg CANCEL ukomeze ikizami");
  if (confirmClose) {
    document.getElementById("password-modal").style.display = "none";
    document.getElementById("startQuizBtn").style.display = "inline-block"; // Optional
  }
}
function checkPassword() {
  const inputField = document.getElementById("password-input");
  if (inputField.value === "45522") {
    closeModal();
    startQuiz();
  } else {
    alert("Andikamo Kode Ya Nyayo Cg Ujye ahanditse TWANDIKIRE TUGUFASHE");
    inputField.value = "";
    inputField.focus();
  }
}


function startQuiz() {
  quizStarted = true;
  document.getElementById("quiz-container").style.display = "block";
  const btn = document.getElementById("startQuizBtn");
  btn.textContent = "Ikizami Cyatangiye!!!";
  btn.style.color = "red";
  showQuestions();
  startTimer();
  document.getElementById("startedMessage").style.display = "block";
  setTimeout(() => {
    document.getElementById("startedMessage").style.display = "none";
  }, 120000);
}

function showQuestions() {
  let container = document.getElementById("question-box");
  let output = "";

  const questions = [
  {
    question: "1. Amabwiriza rusange agenga imihanda n'uburyo bwo kuyigendamo mu Rwanda yashyizweho muri:",
    options: ["a) 1992", "b) 2002", "c) 1987", "d) 1998"],
    correct: 1
  },
  {
    question: "2. Amabwiriza rusange agenga imihanda n'uburyo bwo kuyigendamo agenga uburyo bwo kugenda mu nzira nyabagendwa bwerekeye:",
    options: ["a) Abanyamaguru", "b) Inyamaswa ziba mu ishyamba", "c) Ibinyabiziga", "d) A na C ni ibisubizo by‚Äôukuri"],
    correct: 3
  },
  {
    question: "3. Ijambo 'Inzira nyabagendwa' risobanura kimwe muri ibi bikurikira:",
    options: ["a) Ahantu imodoka zihagarara gusa", "b) Ahantu hose abantu nyamwinshi bahurira no kugenda ku butaka", "c) Imihanda minini gusa", "d) Utuyira tw‚Äôimodoka mu mujyi no mu cyaro"],
    correct: 1
  },
  {
    question: "4. Ijambo 'Umuhanda' risobanura:",
    options: ["a) Ahantu hose abantu banyura cg ahantu hose hateretse ibinyabiziga", "b) Igice cy‚Äôinzira nyabagendwa kigendwamo n‚Äôibinyabiziga", "c) Inzira z‚Äôabanyamaguru gusa", "d) Nta gisubizo cy‚Äôukuri kirimo"],
    correct: 1
  },
  {
    question: "5. Ijambo 'Inzira y'ibinyabiziga' risobanura:",
    options: ["a) Umuhanda n‚Äôinzira ziwukikije", "b) Ahantu hagendwa n‚Äôabanyamaguru gusa", "c) Ahantu imodoka zihagarara", "d) Utuyira duto two mu mujyi"],
    correct: 0
  },
  {
    question: "6. Iyo bavuze Igisate cy'umuhanda wumva kimwe muri ibi bikurikira:",
    options: ["a) Igice cy‚Äôumuhanda kigenewe abanyamaguru gusa", "b) Ahantu imodoka zihagarara", "c) Igice cy‚Äôumuhanda cyagenewe kugendwamo n‚Äôibinyabiziga binini bibangikanye", "d) Umurongo ugaragaza aho umuhanda urangirira"],
    correct: 2
  },
  {
    question: "7. Ijambo 'Agahanda k'amagare' risobanura iki:",
    options: ["a) Igice cy‚Äôinzira nyabagendwa cyagenewe kunyurwamo n‚Äôamagare na velomoteri", "b) Umuhanda wose ugenewe ibinyabiziga byose", "c) Ahantu imodoka zihagarara", "d) Igice cy‚Äôumuhanda cyagenewe abanyamaguru"],
    correct: 0
  },
  {
    question: "8. Amagambo 'Isangano' na 'Inkomane' bivuga:",
    options: ["a) Ahantu imodoka ziparika", "b) Ahantu hose imihanda ihurira cyangwa aho umuhanda usukira mu wundi", "c) Umuhanda munini ugabanya imijyi ibiri", "d) Igice cy‚Äôumuhanda cyagenewe abanyamaguru"],
    correct: 1
  },
  {
    question: "9. Ijambo 'Akayira' risobanura iki?",
    options: ["a) Ahantu imodoka zihagarara", "b) Umuhanda munini ugenewe ibinyabiziga byose", "c) Inzira nyabagendwa ifunganye yagenewe gusa abanyamaguru cyangwa ibinyabiziga bigendera ku biziga bibiri", "d) Inzira ya gari ya moshi"],
    correct: 2
  },
  {
    question: "10. Inzira y‚Äôigitaka ni:",
    options: ["a) Inzira igenewe abantu gusa", "b) Inzira yabugenewe n‚Äôabanyamaguru gusa", "c) Inzira nyabagendwa yagutse kurusha akayira ariko itari iy‚Äôibinyabiziga bibiri", "d) Inzira ikoreshwa gusa mu gihe cy‚Äôimvura"],
    correct: 2
  },
  {
    question: "11. Urusisiro ni:",
    options: ["a) Ahantu hagaragaramo amazu gusa nta mihanda irimo", "b) Ahantu hari amazu atandukanye yegeranye cyangwa afatanye hatagaragazwa n‚Äôibyapa by‚Äôaho hantu", "c) Ahantu hatuye abantu bacye cyane hatagira amazu afatanye", "d) Nta gisubizo cy‚Äôukuri kirimo"],
    correct: 3
  },
  {
    question: "12. Ijambo Umuyobozi risobanura:",
    options: ["a) Umuntu uyobora abandi mu kazi ka Leta", "b) Umuntu wese utwaye ikinyabiziga cyangwa uyobora inyamaswa", "c) Umuntu wicaye mu modoka atari umushoferi", "d) Umuntu ucunga umutekano mu muhanda"],
    correct: 1
  },
  {
    question: "13. Iyo umugenzi ahagaze, umukozi ubifitiye ububasha ni ngombwa ko buri gihe aba afite ibimenyetso:",
    options: ["a) Yego", "b) Oya", "c) ‚Äî", "d) ‚Äî"],
    correct: 1
  },
  {
    question: "14. Ugendeye ku gisobanuro k‚Äôijambo ikinyabiziga, Indogobe cyangwa ifarashi ikurura ikinyabiziga si ikinyabiziga:",
    options: ["a) Yego", "b) Oya", "c) ‚Äî", "d) ‚Äî"],
    correct: 1
  },
  {
    question: "15. Tracteur cg umutraktori, imashini ikoreshwa mu buhinzi ifatwa nk‚Äôikinyabiziga:",
    options: ["a) Yego", "b) Oya", "c) ‚Äî", "d) ‚Äî"],
    correct: 0
  },
  {
    question: "16. Ikinyamitende kigomba kugira iki muri ibi bikurikira:",
    options: ["a) Moteri ikoresha lisansi", "b) Ibiziga byibuze kimwe kandi kigendeshwa n‚Äôimbaraga z‚Äôabantu", "c) Moteri y‚Äôamashanyarazi", "d) Imodoka igendeshwa na essence"],
    correct: 1
  },
  {
    question: "17. Ni ikihe kinyabiziga gishobora no kuba Ikinyamitende muri ibi?:",
    options: ["a) Moto ifite moteri", "b) Igare ry‚Äôabafite ubumuga", "c) Igare rigendera ku biziga bibiri rikoreshejwe n‚Äôamaguru", "d) Moto ifite imitende itatu"],
    correct: 2
  },
  {
    question: "18. Ibi bikurikira ni ibinyabiziga ukuyemo:",
    options: ["a) Imodoka (Car)", "b) Moto (Motorcycle)", "c) Ibimasa bihinga (Draught cattle)", "d) Igare (Bicycle)"],
    correct: 2
  },
  {
    question: "19. Ijambo Igare rivuga:",
    options: ["a) Ikinyamitende gifite ibiziga bibiri cg bitatu", "b) Ikinyamitende gifite ibiziga bibiri gusa", "c) Ikinyamitende gifite moteri", "d) Nta gisubizo cy‚Äôukuri kirimo"],
    correct: 1
  },
  {
    question: "20. Velomoteri:",
    options: ["a) Ni ikinyabiziga gifite ibiziga bibiri byonyine", "b) Ni ikinyabiziga kitarengeje santimetero kibe 50", "c) Yihuta kurenza Km 100 mu isaha", "d) A na B ni ibisubizo by‚Äôukuri"],
    correct: 3
  }
];


  for (let i = 0; i < questions.length; i++) {
    const q = questions[i];
    output += `<div class="question">
      <p><strong>${q.question}</strong></p>
      ${q.options
        .map((opt, j) => `
          <label class="option-button" id="q${i}${j}">
            <input type="radio" name="q${i}" value="${j}" onchange="selectAnswer(${i}, ${j})"> ${opt}
          </label>`)
        .join("")}
    </div>`;
  }

  container.innerHTML = output;
}

function selectAnswer(q, opt) {
  userAnswers[q] = opt;
}

function startTimer() {
  const interval = setInterval(() => {
    const mins = Math.floor(time / 60);
    const secs = time % 60;
    timerDiv.textContent = `Iminota isigaye: ${mins}:${secs < 10 ? '0' + secs : secs}`;
    time--;
    if (time < 0 || submitted) {
      clearInterval(interval);
      if (!submitted) submitQuiz();
    }
  }, 1000);
}

    
// Corrected submitQuiz() function with proper scrolling logic
function submitQuiz() {
  if (submitted) {
    alert("Ikizami Cyamaze Gukorwa, kanda kuri OK umanuke hasi ukande kuri SOHOKA/SUBIRA KU BIZAMI wongere usubiremo cg uhitemo ikindi kizami!");
    return;
  }
  submitted = true;
  clearInterval(timer);
  document.getElementById("timer").textContent = "Iminota Isigaye: 00:00";
  document.getElementById("loadingSpinner").style.display = "block";
  document.getElementById("result").textContent = "Tegereza gato...Sisitemu irimo kubara amanota yawe...";
  setTimeout(() => {
    document.getElementById("startQuizBtn").textContent = "Ikizami Cyarangiye!";
    document.getElementById("startQuizBtn").style.color = "red";
    let score = 0;
    for (let i = 0; i < 20; i++) {
      if (userAnswers[i] === correctAnswers[i]) score++;
    }
    document.getElementById("loadingSpinner").style.display = "none";
    document.getElementById("result").innerHTML =
      `<span style="color:${score < 12 ? 'red' : 'green'};">
         Wabonye Amanota: ${score}/20<br>
         ${score < 12 ? 'Watsinzwe, Ukeneye Kwihugura Bihagije!' : 'Watsinze, Komereza Aho!'}
       </span>`;
    const reviewBtn = document.getElementById("reviewAnswersBtn");
    reviewBtn.style.display = "inline-block";
    reviewBtn.scrollIntoView({ behavior: "smooth" });
  }, 5000);
}

// Corrected scrollToTop() function
function scrollToTop() {
  window.scrollTo({ top: 0, behavior: "smooth" });
}

// Optional: Scroll to bottom function if needed separately
function scrollToBottom() {
  window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
}

function reviewAnswers() {
  scrollToTop();
  for (let i = 0; i < userAnswers.length; i++) {
    let userAns = userAnswers[i];
    let correctAns = correctAnswers[i];
    if (userAns !== null) {
      if (userAns === correctAns) {
        let label = document.getElementById(`q${i}${userAns}`);
        if (label) {
          label.classList.add('correct');
        }
      } else {
        let wrongLabel = document.getElementById(`q${i}${userAns}`);
        let correctLabel = document.getElementById(`q${i}${correctAns}`);
        if (wrongLabel) {
          wrongLabel.classList.add('wrong');
        }
        if (correctLabel) {
          correctLabel.classList.add('correct');
        }
      }
    } else {
      let correctLabel = document.getElementById(`q${i}${correctAns}`);
      if (correctLabel) {
        correctLabel.classList.add('correct');
      }
    }
  }
  document.getElementById("reviewAnswersBtn").style.display = "none";
document.querySelectorAll('input[type="radio"]').forEach(radio => {
  radio.disabled = true;
});
}

function goToSection1() {
  window.location.href = "https://mwarimudamas.wixsite.com/mwarimudamas#contact-us";
}

function goToSection2() {
  window.location.href = "https://mwarimudamas.wixsite.com/mwarimudamas#lessons";
}

function confirmExit() {
  const confirmClose = confirm("Urashaka Gusubira Inyuma? Kanda OK niba Udakomeje Ikizamini cg CANCEL ukomeze ikizami");
  if (confirmClose) {
    document.getElementById("password-modal").style.display = "none";
    document.getElementById("startQuizBtn").style.display = "inline-block";
  }
}

function goToHome() {
  window.location.href = "https://mwarimudamas.wixsite.com/mwarimudamas#quizzes";
}
</script>
</body>
</html>
